(()=>{"use strict";var e={980:(e,t,n)=>{n.r(t)},334:(e,t,n)=>{n.r(t)},492:(e,t,n)=>{n.r(t)},848:(e,t,n)=>{n.r(t)},563:(e,t,n)=>{n.r(t)},522:(e,t,n)=>{n.r(t)},85:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0,t.Base=class{constructor(){this.body=document.body,this.createMainBlock=()=>{const e=document.createElement("main");e.id="main",this.body.append(e)}}}},851:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;const o=n(110),s=n(5),r=n(969),i=n(459),c=n(610),l=n(287);t.Event=class{constructor(){this.generate=new o.Generate,this.request=new r.Request,this.random=new s.Random,this.timer=new c.Timer,this.winners=new l.Winners,this.animationCars=new i.AnimationCars,this.generateCars=()=>{document.getElementsByClassName("btn-generate")[0].addEventListener("click",(()=>a(this,void 0,void 0,(function*(){for(let e=0;e<100;e++){const e={name:this.random.createNameCar(),color:this.random.createColorCar()};yield this.request.requestCreateCar(e)}yield this.generate.generateBlockCars("default")}))))},this.carRace=(e,t)=>a(this,void 0,void 0,(function*(){const e=document.getElementsByClassName("btn-reset")[0],t=document.getElementsByClassName("btn-race")[0],n=document.getElementsByClassName("block-race"),a=document.getElementsByClassName("btn-stop-car"),o=document.getElementsByClassName("btn-start-car");t.addEventListener("click",(()=>{console.log("raceField carrace "),console.log(n);for(let e=0;e<n.length;e++)n[e].classList.add("race--active"),this.animationCars.moveCar(e,+n[e].id,"race"),o[e].setAttribute("disabled","true"),a[e].removeAttribute("disabled");t.setAttribute("disabled","true"),e.removeAttribute("disabled")})),this.carReset()})),this.carReset=e=>{const t=document.getElementsByClassName("btn-reset")[0],n=document.getElementsByClassName("btn-race")[0],a=document.getElementsByClassName("block-race"),o=document.getElementsByClassName("btn-stop-car"),s=document.getElementsByClassName("block-car-and-flag"),r=document.getElementsByClassName("btn-start-car"),i=document.getElementsByClassName("svg-car"),c=document.getElementsByClassName("block-time ")[0];t.addEventListener("click",(()=>{for(let e=0;e<i.length;e++)a[e].classList.remove("race--active"),this.animationCars.carStop(e,i,s,r,o);c.classList.remove("time-active"),t.setAttribute("disabled","true"),n.removeAttribute("disabled"),setTimeout((()=>{window.location.reload()}),500)}))},this.clickBtnWinners=()=>{const e=document.getElementsByClassName("btn-Winner")[0],t=document.getElementsByClassName("menu__block-Garage")[0],n=document.getElementsByClassName("block-time ")[0];e.addEventListener("click",(()=>{this.winners.addWinnersInTable(),console.log("click Winner"),document.getElementsByClassName("block-create-car")[0],document.getElementsByClassName("block-update-car")[0],document.getElementsByClassName("block-control-car")[0];const e=document.getElementById("race-field");document.getElementsByClassName("menu__block-winners")[0].classList.remove("block--none"),t.classList.add("block--none"),null==e||e.classList.add("block--none"),n.classList.remove("time-active")}))},this.clickBtnGarage=()=>{const e=document.getElementsByClassName("btn-Garage")[0],t=document.getElementsByClassName("menu__block-Garage")[0];e.addEventListener("click",(()=>{console.log("click Garage"),document.getElementsByClassName("block-create-car")[0],document.getElementsByClassName("block-update-car")[0],document.getElementsByClassName("block-control-car")[0];const e=document.getElementById("race-field");document.getElementsByClassName("menu__block-winners")[0].classList.add("block--none"),t.classList.remove("block--none"),null==e||e.classList.remove("block--none")}))}}}},37:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorage=void 0,t.LocalStorage=class{constructor(){this.setLocalSorage=e=>{console.log("localstorage"+e),localStorage.setItem("pageActive",`${e}`)},this.getLocalSorage=e=>(console.log("get localstorage"+e),localStorage.getItem(`${e}`))}}},983:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ControlMenu=void 0;const o=n(110),s=n(969),r=n(5),i=n(851);t.ControlMenu=class{constructor(){this.generate=new o.Generate,this.request=new s.Request,this.random=new r.Random,this.event=new i.Event,this.createBlockMenu=()=>{const e=document.createElement("div"),t=document.createElement("div"),n=document.getElementById("main");e.id="menu",t.className="menu__block-Garage",e.className="block-menu",null!==n&&(n.append(e),e.append(t))},this.createBtnPageChange=()=>{const e=document.getElementById("menu");if(console.log(null!==e),null!==e){console.log(null!==e);const t=document.createElement("div"),n=document.createElement("button"),a=document.createElement("button");t.className="block-btns-page-change",n.className="btn btn-Garage",a.className="btn btn-Winner",n.innerText="Garage",a.innerText="Winner",e.prepend(t),t.append(n),t.append(a)}},this.createBlockCreateCar=()=>{const e=document.getElementById("menu"),t=document.getElementsByClassName("menu__block-Garage")[0];if(null!==e){const e=document.createElement("div"),n=document.createElement("input"),a=document.createElement("input"),o=document.createElement("button");n.setAttribute("type","text"),a.setAttribute("type","color"),e.className="block-create-car",n.id="input-name-create",a.id="input-color-create",o.className="btn btn-create-car",o.innerText="Create",t.append(e),e.append(n),e.append(a),e.append(o)}},this.createBlockUpdateCar=()=>{const e=document.getElementById("menu"),t=document.getElementsByClassName("menu__block-Garage")[0];if(null!==e){const e=document.createElement("div"),n=document.createElement("input"),a=document.createElement("input"),o=document.createElement("button");n.setAttribute("type","text"),a.setAttribute("type","color"),e.className="block-update-car",n.id="input-name-update",a.id="input-color-update",o.id="btn-update-car",o.className="btn",o.innerText="Update",t.append(e),e.append(n),e.append(a),e.append(o)}},this.createBlockControlCar=()=>{const e=document.getElementById("menu"),t=document.getElementsByClassName("menu__block-Garage")[0];if(null!==e){const e=document.createElement("div"),n=document.createElement("button"),a=document.createElement("button"),o=document.createElement("button");e.className="block-control-car",n.className="btn btn-race",a.className="btn btn-reset",o.className="btn btn-generate",n.innerText="Race",a.innerText="Reset",o.innerText="Generate",a.setAttribute("disabled","true"),t.append(e),e.append(n),e.append(a),e.append(o)}this.event.generateCars()},this.clickBtnCreate=()=>{document.getElementsByClassName("btn-create-car")[0].addEventListener("click",(()=>a(this,void 0,void 0,(function*(){const e=document.getElementById("input-name-create"),t=(document.getElementById("input-color-create"),{name:""!==e.value?e.value:this.random.createNameCar(),color:this.random.createColorCar()});yield this.request.requestCreateCar(t),yield this.generate.generateBlockCars("newCar"),window.location.reload()}))))}}}},295:function(e,t,n){var a,o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))},s=this&&this.__classPrivateFieldGet||function(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=void 0;const r=n(969),i=n(110),c=n(851),l=n(37);t.Pagination=class{constructor(){this.request=new r.Request,this.generate=new i.Generate,this.event=new c.Event,this.localStorage=new l.LocalStorage,a.set(this,7),this.test=e=>o(this,void 0,void 0,(function*(){const t=yield this.request.requestGarage(),n=(e-1)*s(this,a,"f"),o=n+s(this,a,"f"),r=t.slice(n,o);console.log(r),yield this.generate.generateBlockCars("pagination",r)})),this.pagination=()=>o(this,void 0,void 0,(function*(){const e=document.getElementsByClassName("block-count__page")[0],t=document.getElementsByClassName("block-count_cars")[0],n=document.querySelector(".block__li-pagination"),a=yield this.request.requestGarage();this.createCuntPage(a.length);const s=this.localStorage.getLocalSorage("pageActive"),r=Array.from(document.getElementsByClassName("item"));null!==s&&(this.test(+s),r[+s-1].classList.add("page--active")),e.innerText=null===s?"Page #1":`Page #${s}`,t.innerText=`Garage (${a.length})`;for(let e=0;e<r.length;e++)r[e].addEventListener("click",(()=>o(this,void 0,void 0,(function*(){null!==n&&(n.id=""+ +r[e].innerHTML,this.localStorage.setLocalSorage(+n.id)),this.test(+r[e].innerHTML),window.location.reload()}))))})),this.createCuntPage=e=>{const t=Math.ceil(e/s(this,a,"f"));for(let e=1;e<=t;e++){const t=document.createElement("li"),n=document.getElementsByClassName("list")[0],a=document.getElementsByClassName("block__li-pagination")[0];t.className="item",t.innerText=`${e}`,a.append(n),n.append(t)}}}},a=new WeakMap},459:function(e,t,n){var a,o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))},s=this&&this.__classPrivateFieldGet||function(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)},r=this&&this.__classPrivateFieldSet||function(e,t,n,a,o){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?o.call(e,n):o?o.value=n:t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationCars=void 0;const i=n(969),c=n(610),l=n(287);t.AnimationCars=class{constructor(){a.set(this,0),this.request=new i.Request,this.timer=new c.Timer,this.winners=new l.Winners,this.carStop=(e,t,n,a,o)=>{var s,r;console.log("STop"),console.log(e),console.log(t[e]),console.log(n[e]),console.log(t[e].style.transform="translateX(0px)"),t[e].style.transform="translateX(0px)",a[e].removeAttribute("disabled"),o[e].setAttribute("disabled","true"),null===(s=a[e])||void 0===s||s.removeAttribute("disabled"),null===(r=o[e])||void 0===r||r.setAttribute("disabled","true")},this.clickBtnStart=()=>{var e;const t=Array.from(document.getElementsByClassName("btn-stop-car")),n=Array.from(document.getElementsByClassName("btn-start-car")),a=Array.from(document.getElementsByClassName("block-car-and-flag")),o=Array.from(document.getElementsByClassName("block-race"));console.log(`${n.length} - length ${n}`);for(let s=0;s<n.length;s++){const r=()=>{var e,r,i,c;(null===(e=a[s])||void 0===e?void 0:e.classList.contains("race--active"))||(console.log("START"),console.log(o),console.log(o[s]),null===(r=a[s])||void 0===r||r.classList.add("race--active"),this.moveCar(s,+o[s].id,"start"),null===(i=n[s])||void 0===i||i.setAttribute("disabled","true"),null===(c=t[s])||void 0===c||c.removeAttribute("disabled"))};null===(e=n[s])||void 0===e||e.addEventListener("click",r)}},this.clickBtnStop=()=>{var e;const t=document.getElementsByClassName("btn-stop-car"),n=document.getElementsByClassName("block-car-and-flag"),a=document.getElementsByClassName("btn-start-car"),o=document.getElementsByClassName("svg-car");console.log(`${t.length} - length ${t}`),console.log(t);for(let s=0;s<t.length;s++)null===(e=t[s])||void 0===e||e.addEventListener("click",(()=>{var e,r;(null===(e=n[s])||void 0===e?void 0:e.classList.contains("race--active"))&&(console.log("STop"),null===(r=n[s])||void 0===r||r.classList.remove("race--active"),this.carStop(s,o,n,a,t))}))},this.returnStatusEror=e=>o(this,void 0,void 0,(function*(){return yield this.request.requestFrameDriveEngine(e).then((()=>0)).catch((()=>1))})),this.moveCar=(e,t,n)=>o(this,void 0,void 0,(function*(){console.log(`index-  ${e}`),console.log(`id-  ${t}`);const i=Array.from(document.getElementsByClassName("img-car"))[0],c=Array.from(document.getElementsByClassName("svg-car")),l=yield this.request.requestFrameStartEngine(t);console.log("BLOCK MOVE");const d=document.getElementsByClassName("block-race");let u=0;const m=l.velocity,h=l.distance/m,p=h/1e3*60,g=i.offsetWidth+50,v=(i.offsetWidth,(g-u)/p);console.log(h),console.log(e+"----проверка индекса");const f=()=>o(this,void 0,void 0,(function*(){var o;u>g&&(console.log("rEALfinish"),console.log(u),console.log(s(this,a,"f")),"start"!==n&&r(this,a,(o=s(this,a,"f"),++o),"f"),1===s(this,a,"f")&&(d[e].classList.add("winner"),yield this.timer.getTime("stop"),yield this.winners.stateWinners(d[e])),this.request.requestFrameStopEngine(t)),1===u&&(console.log("rEALfinish---500"),console.log(u),this.request.requestFrameStopEngine(t)),u<g&&1!==u&&("start"!==n&&this.timer.getTime(),c[e].style.transform=`translateX(${u+=v}px)`,requestAnimationFrame(f))}));f(),u=yield this.returnStatusEror(t).then((e=>e)),console.log(g)}))}},a=new WeakMap},110:function(e,t,n){var a,o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))},s=this&&this.__classPrivateFieldGet||function(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Generate=void 0;const r=n(969),i=n(459);t.Generate=class{constructor(){this.request=new r.Request,this.animationCars=new i.AnimationCars,a.set(this,(e=>{let t;return t=void 0!==e?`<?xml version="1.0" encoding="utf-8"?>\x3c!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools --\x3e\n        <svg class="svg-car"  viewBox="0 0 400 400" fill=${e} xmlns="http://www.w3.org/2000/svg">\n        <path d="M47 232.735C48.4246 221.084 48.7322 209.254 49.8438 197.66" stroke="#000000" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M55.168 192.264C94.3021 170.326 238.898 95.2264 246.732 181.436" stroke="#000000" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M75.4033 195.607C120.206 186.193 361.578 139.763 344.331 235.433" stroke="#000000" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M322.277 244.876C332.859 243.916 342.827 239.677 353.305 238.131" stroke="#000000" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M268.316 227.65C273.344 223.411 276.541 214.633 283.581 213.083C309.001 207.493 331.57 243.568 304.852 256.789C281.398 268.387 260.878 243.015 277.586 224.415" stroke="#000000" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M79.5169 226.914C110.155 175.735 153.384 245.823 109.035 258.807C90.5036 264.232 70.4089 244.217 83.8087 229.115" stroke="#000000" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M258.873 239.059C190.155 241.806 116.847 229.997 48.4229 235.624" stroke="#000000" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M352.003 219.244C351.792 226.929 352.003 234.736 352.003 242.178" stroke="#000000" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>`:'<?xml version="1.0" encoding="utf-8"?>\x3c!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools --\x3e\n        <svg class="flag" width="800px" height="800px" viewBox="0 0 24 24" fill="red" xmlns="http://www.w3.org/2000/svg">\n        <path d="M5 22V14M5 14V4M5 14L7.47067 13.5059C9.1212 13.1758 10.8321 13.3328 12.3949 13.958C14.0885 14.6354 15.9524 14.7619 17.722 14.3195L17.9364 14.2659C18.5615 14.1096 19 13.548 19 12.9037V5.53669C19 4.75613 18.2665 4.18339 17.5092 4.3727C15.878 4.78051 14.1597 4.66389 12.5986 4.03943L12.3949 3.95797C10.8321 3.33284 9.1212 3.17576 7.47067 3.50587L5 4M5 4V2" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>\n        </svg>',t})),this.generateBlockCars=(e,t)=>o(this,void 0,void 0,(function*(){let n;const o=yield this.request.requestGarage().then((e=>e));if("default"===e?n=yield this.request.requestGarage().then((e=>e)):"newCar"===e?n=yield this.request.getRequestCar(+o[o.length-1].id).then((e=>[e])):"pagination"===e&&(this.deleteBlocs(),n=t),void 0!==n)for(let e=0;e<n.length;e++)if(e<7){const t=n[e].name,o=n[e].color,r=n[e].id,i=document.getElementById("race-field"),c=document.createElement("div"),l=document.createElement("div"),d=document.createElement("button"),u=document.createElement("button"),m=document.createElement("span"),h=document.createElement("div"),p=document.createElement("div"),g=document.createElement("div"),v=document.createElement("button"),f=document.createElement("button"),y=document.createElement("div"),b=document.createElement("div"),E=document.createElement("div"),w=document.createElement("div");c.className="block-race",c.id=`${r}`,l.className="block-race__car-info",d.className="btn btn-seclect",u.className="btn btn-remove",m.className="car-brand",h.className="block-car",p.className="control-car",g.className="control-car__btns",v.className="btn btn-start-car",f.className="bnt btn-stop-car",y.className="block-car-and-flag",b.className="img-car",E.className="img-flag",w.className="road-race",m.className="car-brand",v.innerText="Start",f.innerText="Stop",m.innerText=t,b.innerHTML=s(this,a,"f").call(this,o),E.innerHTML=s(this,a,"f").call(this),d.innerText="SELECT",u.innerText="REMOVE",null==f||f.setAttribute("disabled","true"),null!==i&&(i.append(c),c.append(l),c.append(h),l.append(d),l.append(u),l.append(m),h.append(p),h.append(w),p.append(g),p.append(y),g.append(v),g.append(f),y.append(b),y.append(E))}this.clickBtnSelect(),this.clickBtnRemove(),this.animationCars.clickBtnStart(),this.animationCars.clickBtnStop()})),this.deleteBlocs=()=>{const e=Array.from(document.getElementsByClassName("block-race"));for(let t=0;t<e.length;t++)e[t].remove()},this.clickBtnSelect=()=>{const e=Array.from(document.getElementsByClassName("block-race")),t=Array.from(document.getElementsByClassName("btn-seclect")),n=document.getElementById("input-name-update"),a=document.getElementById("input-color-update"),s=document.getElementById("btn-update-car"),r=Array.from(document.getElementsByClassName("car-brand")),i=Array.from(document.getElementsByClassName("svg-car"));for(let c=0;c<t.length;c++)t[c].addEventListener("click",(()=>o(this,void 0,void 0,(function*(){const t=yield this.request.getRequestCar(+e[c].id).then((e=>e));console.log("SELECT"),null==n||n.focus(),t.name,t.color,n.value=t.name,a.value=t.color,null==s||s.addEventListener("click",(()=>o(this,void 0,void 0,(function*(){r[c].innerText=n.value,i[c].style.fill=a.value;const t={name:n.value,color:a.value};yield this.request.requestUpdateCar(t,+e[c].id),yield this.request.requestGarage(),n.value="",a.value="#000000"}))))}))))},this.clickBtnRemove=()=>o(this,void 0,void 0,(function*(){const e=document.querySelectorAll(".btn-remove"),t=document.querySelectorAll(".block-race");document.querySelector(".race-field");for(let n=0;n<e.length;n++){const a=()=>o(this,void 0,void 0,(function*(){console.log("REMOVE"),yield this.request.requestDeleteCar(+t[n].id),yield this.request.requestGarage(),t[n].remove(),window.location.reload(),e[n].removeEventListener("click",a)}));e[n].addEventListener("click",a)}}))}},a=new WeakMap},484:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RaceField=void 0;const a=n(37);t.RaceField=class{constructor(){this.localStorage=new a.LocalStorage,this.createBlockRaceField=()=>{const e=document.createElement("div"),t=document.getElementById("main"),n=document.createElement("div"),a=document.createElement("div"),o=document.createElement("span"),s=document.createElement("span"),r=document.createElement("ul"),i=this.localStorage.getLocalSorage("pageActive");e.id="race-field",e.className="block-race-field",n.className="block__li-pagination",this.localStorage.getLocalSorage("pageActive")?n.id=`${i}`:n.id="1",a.className="block-count",o.className="block-count__page",s.className="block-count_cars",r.className="list",null!==t&&(t.append(e),e.append(a),a.append(s),a.append(o),t.append(n),n.append(r))}}}},5:function(e,t){var n,a,o,s=this&&this.__classPrivateFieldGet||function(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Random=void 0,t.Random=class{constructor(){n.set(this,["Tesla","BMW","Ferrari","Ford","Porsh","Jaguar","Mitsubishi","Nissan","Mazda","Alfa Romeo"]),a.set(this,["1","2","3","4","5","6","7","8","9","10"]),o.set(this,["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"]),this.getRandom=e=>{for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},this.createNameCar=()=>{const e=`${this.getRandom(s(this,n,"f"))[0]} ${this.getRandom(s(this,a,"f"))[0]}`;return console.log(e),e},this.createColorCar=()=>{let e="#";for(let t=0;t<6;t++)e+=this.getRandom(s(this,o,"f"))[0];return console.log(e),e}}},n=new WeakMap,a=new WeakMap,o=new WeakMap},969:function(e,t){var n=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0,t.Request=class{constructor(){this.url="http://127.0.0.1:3000",this.requestGarage=()=>n(this,void 0,void 0,(function*(){const e=yield fetch(`${this.url}/garage`);return yield e.json()})),this.getRequestCar=e=>n(this,void 0,void 0,(function*(){const t=yield fetch(`${this.url}/garage/${e}`);return yield t.json()})),this.requestFrameStartEngine=e=>n(this,void 0,void 0,(function*(){const t=yield fetch(`${this.url}/engine?id=${e}&status=started`,{method:"PATCH"});return yield t.json()})),this.requestFrameDriveEngine=e=>n(this,void 0,void 0,(function*(){const t=yield fetch(`${this.url}/engine?id=${e}&status=drive`,{method:"PATCH"});return yield t.json()})),this.requestFrameStopEngine=e=>n(this,void 0,void 0,(function*(){const t=yield fetch(`${this.url}/engine?id=${e}&status=stopped`,{method:"PATCH"});return yield t.json()})),this.requestStatusEngine=e=>n(this,void 0,void 0,(function*(){const t=yield fetch(`${this.url}/engine?id=${e}&status=started`,{method:"PATCH"});return yield t.json()})),this.requestCreateCar=e=>n(this,void 0,void 0,(function*(){const t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},n=yield fetch(`${this.url}/garage`,t);return yield n.json().then((e=>console.log(e)))})),this.requestDeleteCar=e=>n(this,void 0,void 0,(function*(){const t=yield fetch(`${this.url}/garage/${e}`,{method:"DELETE"});return yield t.json()})),this.requestUpdateCar=(e,t)=>n(this,void 0,void 0,(function*(){const n={method:"Put",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},a=yield fetch(`${this.url}/garage/${t}`,n);return yield a.json().then((e=>console.log(e.status)))})),this.requestCreateWinner=e=>n(this,void 0,void 0,(function*(){const t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},n=yield fetch(`${this.url}/winners`,t);return yield n.json().then((e=>console.log(e.status)))})),this.requestGetWinner=e=>n(this,void 0,void 0,(function*(){const t=yield fetch(`${this.url}/winners/?${e}`);return yield t.json()})),this.requestUpdateWinner=(e,t)=>n(this,void 0,void 0,(function*(){const n={method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},a=yield fetch(`${this.url}/winners/?${t}`,n);return yield a.json().then((e=>console.log(e.status)))})),this.requestGetWinners=()=>n(this,void 0,void 0,(function*(){const e=yield fetch(`${this.url}/winners`);return yield e.json()}))}}},610:function(e,t){var n,a,o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))},s=this&&this.__classPrivateFieldGet||function(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)},r=this&&this.__classPrivateFieldSet||function(e,t,n,a,o){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?o.call(e,n):o?o.value=n:t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0,t.Timer=class{constructor(){n.set(this,0),a.set(this,0),this.createBlockTime=()=>{const e=document.createElement("div"),t=document.getElementById("main");e.className="block-time",null==t||t.append(e)},this.getTime=e=>o(this,void 0,void 0,(function*(){const t=document.getElementsByClassName("block-time ")[0];let o;"stop"!==e?o=setInterval((()=>{r(this,a,s(this,a,"f")+1,"f"),1e3===s(this,a,"f")&&(r(this,n,s(this,n,"f")+1,"f"),r(this,a,0,"f"))}),300):(console.log("adadad"),t.innerText=`${s(this,n,"f")}, ${s(this,a,"f")}`,r(this,n,0,"f"),r(this,a,0,"f"),t.classList.add("time-active"),clearInterval(o))}))}},n=new WeakMap,a=new WeakMap},287:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Winners=void 0;const o=n(969);t.Winners=class{constructor(){this.request=new o.Request,this.creatBlockTableWinners=()=>{const e=document.getElementById("menu");if(null!==e){const t=document.createElement("div"),n=document.createElement("span"),a=document.createElement("span"),o=document.createElement("div");t.className="menu__block-winners",n.className="menu__counter-winners",a.className="menu__counter-page",o.className="menu__block-table",t.classList.add("block--none"),n.innerText="Winners (0)",a.innerText="Page #1",e.append(t),t.append(n),t.append(a),t.append(o),this.creatTableWinners(o)}},this.creatTableWinners=e=>{const t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div"),i=document.createElement("span"),c=document.createElement("span"),l=document.createElement("span"),d=document.createElement("span"),u=document.createElement("span");t.className="block-table__table",n.className="table-item table__number",a.className="table-item table__svg-car",o.className="table-item table__name",s.className="table-item table__wins",r.className="table-item table__time",i.className="table__header",c.className="table__header",l.className="table__header",d.className="table__header",u.className="table__header",i.innerText="№",c.innerText="Car",l.innerText="Name",d.innerText="Wins",u.innerText="Time",e.append(t),t.append(n),t.append(a),t.append(o),t.append(s),t.append(r),n.append(i),a.append(c),o.append(l),s.append(d),r.append(u)},this.stateWinners=e=>a(this,void 0,void 0,(function*(){const t=document.getElementsByClassName("block-time ")[0],n=yield this.request.getRequestCar(+e.id),a=yield this.request.requestGetWinner(+e.id),o={id:n.id,wins:1,time:+t.innerText},s={wins:+a.wins++,time:+t.innerText};console.log("WWWWWWWWWW"+a),a?this.request.requestUpdateWinner(s):this.request.requestCreateWinner(o),this.addWinnersInTable()})),this.addWinnersInTable=()=>a(this,void 0,void 0,(function*(){const e=document.getElementsByClassName("table__number")[0],t=document.getElementsByClassName("table__svg-car")[0],n=document.getElementsByClassName("table__name")[0],a=document.getElementsByClassName("table__wins")[0],o=document.getElementsByClassName("table__time")[0],s=yield this.request.requestGetWinners().then((e=>e)).then((e=>e));console.log("GEEEEET WINNERS"),console.log(this.request.requestGetWinners().then((e=>console.log(e))));for(let r=0;r<s.length;r++){console.log(s[r].id),console.log(yield this.request.requestGetWinner(+s[r].id).then((e=>e)));const i=document.createElement("span"),c=document.createElement("div"),l=document.createElement("span"),d=document.createElement("span"),u=document.createElement("span"),m=(yield this.request.requestGetWinner(+s[r].id).then((e=>e)),yield this.request.getRequestCar(+s[r].id).then((e=>e)));c.className="winner__svg-car",i.innerText=`${r}`,l.innerText=`${m.name}`,c.style.backgroundColor=m.color,d.innerText=""+ +s[r].wins,u.innerText=""+ +s[r].time,console.log(m.color),i.className="table__header-item",l.className="table__header-item",d.className="table__header-item",u.className="table__header-item",e.append(i),n.append(l),t.append(c),a.append(d),o.append(u)}}))}}},607:function(e,t,n){this&&this.__awaiter,Object.defineProperty(t,"__esModule",{value:!0}),n(334),n(848),n(492),n(522),n(980),n(563);const a=n(85),o=n(983),s=n(484),r=n(110),i=n(459),c=n(5),l=n(851),d=n(287),u=n(295),m=n(37),h=n(610),p=new a.Base,g=new o.ControlMenu,v=new s.RaceField,f=new r.Generate,y=new d.Winners,b=(new i.AnimationCars,new c.Random,new l.Event),E=new u.Pagination,w=new m.LocalStorage,C=new h.Timer;p.createMainBlock(),g.createBlockMenu(),g.createBtnPageChange(),g.createBlockCreateCar(),g.createBlockUpdateCar(),g.createBlockControlCar(),g.clickBtnCreate(),y.creatBlockTableWinners(),v.createBlockRaceField(),f.generateBlockCars("default"),C.createBlockTime();const k=w.getLocalSorage("pageActive");null!==k&&E.test(+k),setTimeout((()=>{E.pagination(),b.clickBtnGarage(),b.clickBtnWinners(),b.carRace(),b.carReset()}),500)}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(607)})();